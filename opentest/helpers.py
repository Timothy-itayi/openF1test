from urllib.request import urlopen, Request
from urllib.error import HTTPError
import json

def get_f1_data(driver_number):
    try:
        # Make the request to the API endpoint
        response = urlopen(f'https://api.openf1.org/v1/drivers?driver_number={driver_number}&session_key=latest')
        # Read and decode the response data
        data = json.loads(response.read().decode('utf-8'))
        
        return data
    except HTTPError as e:
        # Handle HTTPError exceptions
        print(f"HTTP Error: {e.code} - {e.reason}")
        return None  # Return None or raise a custom exception, depending on your requirements


